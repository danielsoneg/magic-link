replicaCount: 1

image:
  repository: magic-link
  tag: latest
  pullPolicy: IfNotPresent

# Secrets: pick ONE of these three approaches:
#
# 1. Let the chart create the secret (set config.fastmailAppPassword)
# 2. Use a pre-existing secret (set existingSecret)
# 3. Use ExternalSecrets operator (set externalSecret.enabled)

# Option 2: reference a secret you manage yourself
existingSecret: ""

# Option 3: ExternalSecrets operator
externalSecret:
  enabled: false
  secretStoreRef: ""        # name of your ClusterSecretStore or SecretStore
  secretStoreKind: ClusterSecretStore
  remoteKey: ""             # key in your secret store (e.g. "magic-link/prod")
  refreshInterval: 1h

config:
  fastmailUsername: ""
  fastmailDomain: ""
  adminEmail: ""
  rpId: ""
  rpName: "Magic Link"
  origin: ""
  linkRetentionHours: "24"
  # Only used if not using existingSecret or externalSecret:
  # fastmailAppPassword: ""
  # sessionSecret: ""

service:
  type: ClusterIP
  port: 3000

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: magic-link.example.com
      paths:
        - path: /
          pathType: Prefix
  tls: []

persistence:
  enabled: true
  size: 1Gi
  storageClass: ""
  accessMode: ReadWriteOnce

resources: {}

nodeSelector: {}
tolerations: []
affinity: {}
